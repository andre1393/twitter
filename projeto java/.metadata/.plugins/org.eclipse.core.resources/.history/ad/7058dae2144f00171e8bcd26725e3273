import java.util.ArrayList;
import java.util.List;
import java.util.Queue;
import java.util.concurrent.LinkedBlockingQueue;

import twitter4j.conf.ConfigurationBuilder;
import twitter4j.*;

/**
 * classe principal do projeto
 * @author André Oliveira da Silva
 */
public class Main {

	private static String[] keyWords;/// contém as #tags que serão pesquisadas
	private static String[] params = {"-user: ", "-text: ", "-id: "}; /// paramtros que serão salvos
	
	/**
	 * método main do programa
	 * @param args - parametros de linha de comando
	 */
	public static void main(String args[])
	{
		String[] tokens = {"mh9Xu2es833iwrPe2zKSclA0t", 
				           "XQMxg6osgdAQWtlPU1ipsi0FBPl7YLHl9PtJOpnyJG2YWwA3ps",
				           "873392543953715202-Q3rhLtTWfkTZQgCmYATPPqJOwvafvrS",
				           "nH6yxkAuT9puFEzikWs6GOCUxxuEbFQwjQHz3qbihQ28B"}; // chaves de segurança
		
		TwitterAPI twitterAPI = new TwitterAPI(tokens[0], tokens[1], tokens[2], tokens[3], params);
		
		System.out.println(twitterAPI.getLastTweet("E32017"));
        
		twitterAPI.startStreaming(keyWords);        
	}
	
	/**
	 * retorna as #tags que serao buscadas
	 * @param args - argumentos passados na inicialização do prgrama
	 * @return - lista string com as #tags
	 */
	public String[] getHashTagList(String[] args)
	{
		List<String> list = new ArrayList<String>();/// lista que contem as keyWords
		String[] keys;
		// os parametros passados para atribuir aos keyWords
		if(args.length > 0)
		{
			for(int i = 0; i < args.length; i++)
			{
				list.add(args[i]);
			}
			keys = new String[list.size()];
			keys = list.toArray(keys);			
		}else{// se nao tiver nenhum parametro, mantem as chaves padrão.
			list.add("#brasil");
			list.add("#brazil");
			list.add("#brasil2017");
			list.add("#brazil2017");
			list.add("#carnaval");
			list.add("#tourism");
			list.add("#bahia");
			list.add("#riodejaneiro");
			list.add("#saopaulo");
			
			keys = new String[list.size()];
			keys = list.toArray(keys);
		}
		
		return keys;
	}
}
